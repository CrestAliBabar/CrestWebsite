"use client";
import { ResponsiveContainer, LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip } from "recharts";

interface VulnerabilityTrendsProps {
  data: { month: string; Critical: number; High: number; Medium: number; Low: number }[];
}

export function VulnerabilityTrends({ data }: VulnerabilityTrendsProps) {
  return (
    <div className="bg-white rounded-xl p-6">
      <h3 className="text-sm font-medium text-gray-500 mb-4">Vulnerability Trends</h3>
      <div className="h-[280px]">
        <ResponsiveContainer>
          <LineChart data={data}>
            <CartesianGrid strokeDasharray="3 3" />
            <XAxis dataKey="month" />
            <YAxis />
            <Tooltip
              content={({ active, payload }) => {
                if (active && payload?.length) {
                  return (
                    <div className="bg-white p-2 shadow-lg rounded-lg border">
                      {payload.map((item: any) => (
                        <p key={item.name} className="text-sm" style={{ color: item.color }}>
                          {item.name}: {item.value}
                        </p>
                      ))}
                    </div>
                  );
                }
                return null;
              }}
            />
            <Line type="monotone" dataKey="Critical" stroke="#DC2626" />
            <Line type="monotone" dataKey="High" stroke="#EA580C" />
            <Line type="monotone" dataKey="Medium" stroke="#D4A017" />
            <Line type="monotone" dataKey="Low" stroke="#4390A3" />
          </LineChart>
        </ResponsiveContainer>
      </div>
    </div>
  );
}
